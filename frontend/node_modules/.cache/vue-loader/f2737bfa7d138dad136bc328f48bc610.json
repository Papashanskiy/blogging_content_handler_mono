{"remainingRequest":"/home/papashanskiy/dev/projects/blogging_content_handler_mono/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/papashanskiy/dev/projects/blogging_content_handler_mono/frontend/src/components/ImageUploader.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/papashanskiy/dev/projects/blogging_content_handler_mono/frontend/src/components/ImageUploader.vue","mtime":1706451989911},{"path":"/home/papashanskiy/dev/projects/blogging_content_handler_mono/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1706546001476},{"path":"/home/papashanskiy/dev/projects/blogging_content_handler_mono/frontend/node_modules/vue-loader/lib/index.js","mtime":1706545995240}],"contextDependencies":[],"result":["\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      images: [],\n    };\n  },\n  methods: {\n    handleFileChange() {\n      const fileInput = this.$refs.fileInput;\n      const files = fileInput.files;\n\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const imageUrl = URL.createObjectURL(file);\n\n        this.images.push({\n          file,\n          url: imageUrl,\n          order: 0,\n          publishTime: '',\n        });\n      }\n\n      fileInput.value = '';\n    },\n    uploadImage() {\n      this.images.forEach(async (image) => {\n        const formData = new FormData();\n        formData.append('file', image.file);\n\n        try {\n          // Вам нужно заменить '/api/upload' на соответствующий эндпоинт вашего бэкенда\n          const response = await axios.post('/api/upload', formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data',\n            },\n          });\n\n          console.log('Image uploaded successfully:', response.data);\n        } catch (error) {\n          console.error('Error uploading image:', error);\n        }\n      });\n    },\n    submitImages() {\n      // Вы можете обработать дополнительные данные или логику перед отправкой\n      // Добавьте ваш код здесь, если необходимо\n\n      // Отправка данных на бэкенд\n      this.uploadImage();\n    },\n  },\n};\n",{"version":3,"sources":["ImageUploader.vue"],"names":[],"mappings":";AA2BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ImageUploader.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <!-- Форма загрузки изображений -->\n    <form @submit.prevent=\"uploadImage\">\n      <input type=\"file\" ref=\"fileInput\" @change=\"handleFileChange\" />\n      <button type=\"submit\">Загрузить</button>\n    </form>\n\n    <!-- Список загруженных изображений с параметрами -->\n    <div v-for=\"(image, index) in images\" :key=\"index\">\n      <img :src=\"image.url\" alt=\"Image\" />\n      <div>\n        <label>Порядок:</label>\n        <input type=\"number\" v-model=\"image.order\" />\n      </div>\n      <div>\n        <label>Время публикации:</label>\n        <input type=\"datetime-local\" v-model=\"image.publishTime\" />\n      </div>\n    </div>\n\n    <!-- Кнопка для отправки данных на бэкенд -->\n    <button @click=\"submitImages\">Отправить на бэкенд</button>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      images: [],\n    };\n  },\n  methods: {\n    handleFileChange() {\n      const fileInput = this.$refs.fileInput;\n      const files = fileInput.files;\n\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const imageUrl = URL.createObjectURL(file);\n\n        this.images.push({\n          file,\n          url: imageUrl,\n          order: 0,\n          publishTime: '',\n        });\n      }\n\n      fileInput.value = '';\n    },\n    uploadImage() {\n      this.images.forEach(async (image) => {\n        const formData = new FormData();\n        formData.append('file', image.file);\n\n        try {\n          // Вам нужно заменить '/api/upload' на соответствующий эндпоинт вашего бэкенда\n          const response = await axios.post('/api/upload', formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data',\n            },\n          });\n\n          console.log('Image uploaded successfully:', response.data);\n        } catch (error) {\n          console.error('Error uploading image:', error);\n        }\n      });\n    },\n    submitImages() {\n      // Вы можете обработать дополнительные данные или логику перед отправкой\n      // Добавьте ваш код здесь, если необходимо\n\n      // Отправка данных на бэкенд\n      this.uploadImage();\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Ваши стили здесь */\n</style>\n"]}]}